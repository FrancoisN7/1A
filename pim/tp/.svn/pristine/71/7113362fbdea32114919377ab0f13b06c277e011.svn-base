% Validation de http://hpxc/cregut.svn.enseeiht.fr/2021/1sn/pim/tps/ftestu/tp10
% Run on 2021-12-06 08:10:46.535613


################################################################################
# Modification des fichiers fournis
################################################################################


================================================================================
## Fichiers qui NE devaient PAS être modifiés
================================================================================

* Fichier alea.adb non modifié... ok
* Fichier alea.ads non modifié... ok
* Fichier exemple_alea.adb non modifié... ok
* Fichier exemple_unbounded_string.adb non modifié... ok
* Fichier sda_exceptions.ads non modifié... ok
* Fichier test_lca.adb non modifié... ERREUR

  | 109c109
  | < 	-- Tester suppression en commençant par leIndice_tableau(Cle);s derniers éléments ajoutés
  | ---
  | > 	-- Tester suppression en commençant par les derniers éléments ajoutés


================================================================================
## Fichiers qui DEVAIENT être modifiés
================================================================================

* Fichier lca_sujet.adb modifié... ok
* Fichier lca.ads modifié... ok
* Fichier lca.adb modifié... ok
* Fichier evaluer_alea_lca.adb modifié... ok
* Fichier th_sujet.adb modifié... ok
* Fichier test_th.adb modifié... ok
* Fichier th.ads modifié... ok
* Fichier th.adb modifié... ok
* Fichier evaluer_alea_th.adb modifié... ok


################################################################################
# Nettoyer
################################################################################

* Running gnatclean... ok


################################################################################
# Exercice 1
################################################################################


================================================================================
## Modifications de lca.ads
================================================================================

* Comparaison de lca.ads et fournis/lca.ads... différents

   | -- AVEC_AFFICHER_DEBUG START DELETE                                                                <
   |         -- Afficher la Sda en révélant sa structure interne.                                       <
   |         -- generic                                                                                 <
   |                 -- with procedure Afficher_Cle (Cle : in T_Cle);                                   <
   |                 -- with procedure Afficher_Donnee (Donnee : in T_Donnee);                          <
   |         -- procedure Afficher_Debug (Sda : in T_LCA);                                              <
   |                                                                                                    <
   |                                                                                                    <
   | -- AVEC_AFFICHER_DEBUG STOP DELETE                                                                 <
   |    Type T_Cellule;                                                                                 |
   |    Type T_LCA is access T_Cellule;                                                                 |          -- TODO : à compléter
   |    Type T_Cellule is                                                                               <
   |       record                                                                                       <
   |          cle : T_Cle;                                                                              <
   |          donnee : T_Donnee;                                                                        <
   |          suivant : T_LCA;                                                                          <
   |       end record;                                                                                  <


================================================================================
## Exécution de lca_sujet.adb
================================================================================

* Compilation de lca_sujet.adb... ok

  | lca_sujet.adb:3:06: warning: no entities of "SDA_Exceptions" are referenced
  | lca_sujet.adb:3:33: warning: use clause for package "SDA_Exceptions" has no effect

* ./lca_sujet... ok
* valgrind ./lca_sujet... ERREUR

  ! ==301260== Memcheck, a memory error detector
  ! ==301260== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301260== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301260== Command: ./lca_sujet
  ! ==301260== 
  ! ==301260== Invalid read of size 8
  ! ==301260==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301260==    by 0x10D61A: lca_sujet__lca_s__cle_presente.7 (lca.adb:51)
  ! ==301260==    by 0x10D73A: lca_sujet__lca_s__supprimer___postconditions.22 (lca.ads:38)
  ! ==301260==    by 0x10D929: lca_sujet__lca_s__supprimer.20 (lca.adb:85)
  ! ==301260==    by 0x10DA83: lca_sujet__lca_s__vider.19 (lca.adb:91)
  ! ==301260==    by 0x10CF96: _ada_lca_sujet (lca_sujet.adb:38)
  ! ==301260==    by 0x10CB7C: main (b~lca_sujet.adb:288)
  ! ==301260==  Address 0x4e510b8 is 24 bytes inside a block of size 48 free'd
  ! ==301260==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301260==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301260==    by 0x10D9D4: lca_sujet__lca_s__supprimer__P125b.21 (lca.adb:85)
  ! ==301260==    by 0x10D8BB: lca_sujet__lca_s__supprimer.20 (lca.adb:80)
  ! ==301260==    by 0x10DA83: lca_sujet__lca_s__vider.19 (lca.adb:91)
  ! ==301260==    by 0x10CF96: _ada_lca_sujet (lca_sujet.adb:38)
  ! ==301260==    by 0x10CB7C: main (b~lca_sujet.adb:288)
  ! ==301260==  Block was alloc'd at
  ! ==301260==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301260==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301260==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301260==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301260==    by 0x10D5DB: lca_sujet__lca_s__enregistrer__P98b.10 (lca.adb:44)
  ! ==301260==    by 0x10D40A: lca_sujet__lca_s__enregistrer.6 (lca.adb:35)
  ! ==301260==    by 0x10CDE5: _ada_lca_sujet (lca_sujet.adb:35)
  ! ==301260==    by 0x10CB7C: main (b~lca_sujet.adb:288)
  ! ==301260== 
  ! ==301260== 
  ! ==301260== HEAP SUMMARY:
  ! ==301260==     in use at exit: 0 bytes in 0 blocks
  ! ==301260==   total heap usage: 4 allocs, 4 frees, 160 bytes allocated
  ! ==301260== 
  ! ==301260== All heap blocks were freed -- no leaks are possible
  ! ==301260== 
  ! ==301260== For lists of detected and suppressed errors, rerun with: -s
  ! ==301260== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)


================================================================================
## Exécution de test_lca.adb
================================================================================

* Compilation de test_lca.adb... ok

  | test_lca.adb:256:17: warning: variable "Inutile" is assigned but never read
  | test_lca.adb:279:35: warning: formal parameter "Cle" is not referenced

* ./test_lca... ok
* valgrind ./test_lca... ERREUR

  ! ==301274== Memcheck, a memory error detector
  ! ==301274== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301274== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301274== Command: ./test_lca
  ! ==301274== 
  ! ==301274== Invalid read of size 8
  ! ==301274==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD42: test_lca__lca_string_integer__cle_presente.20 (lca.adb:51)
  ! ==301274==    by 0x10DE62: test_lca__lca_string_integer__supprimer___postconditions.24 (lca.ads:38)
  ! ==301274==    by 0x10E051: test_lca__lca_string_integer__supprimer.22 (lca.adb:85)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301274==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10E0FC: test_lca__lca_string_integer__supprimer__P349b.23 (lca.adb:85)
  ! ==301274==    by 0x10DFE3: test_lca__lca_string_integer__supprimer.22 (lca.adb:80)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Block was alloc'd at
  ! ==301274==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD02: test_lca__lca_string_integer__enregistrer__P322b.7 (lca.adb:44)
  ! ==301274==    by 0x10DB2C: test_lca__lca_string_integer__enregistrer.6 (lca.adb:35)
  ! ==301274==    by 0x10F0D0: test_lca__construire_exemple_sujet.3 (test_lca.adb:77)
  ! ==301274==    by 0x10F3FF: test_lca__tester_exemple_sujet.2 (test_lca.adb:104)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274== 
  ! ==301274== Invalid read of size 8
  ! ==301274==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD42: test_lca__lca_string_integer__cle_presente.20 (lca.adb:51)
  ! ==301274==    by 0x10DD67: test_lca__lca_string_integer__cle_presente.20 (lca.adb:54)
  ! ==301274==    by 0x10DE62: test_lca__lca_string_integer__supprimer___postconditions.24 (lca.ads:38)
  ! ==301274==    by 0x10E051: test_lca__lca_string_integer__supprimer.22 (lca.adb:85)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301274==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10E0FC: test_lca__lca_string_integer__supprimer__P349b.23 (lca.adb:85)
  ! ==301274==    by 0x10DFE3: test_lca__lca_string_integer__supprimer.22 (lca.adb:80)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Block was alloc'd at
  ! ==301274==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD02: test_lca__lca_string_integer__enregistrer__P322b.7 (lca.adb:44)
  ! ==301274==    by 0x10DB2C: test_lca__lca_string_integer__enregistrer.6 (lca.adb:35)
  ! ==301274==    by 0x10F0D0: test_lca__construire_exemple_sujet.3 (test_lca.adb:77)
  ! ==301274==    by 0x10F3FF: test_lca__tester_exemple_sujet.2 (test_lca.adb:104)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274== 
  ! ==301274== Invalid read of size 8
  ! ==301274==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD42: test_lca__lca_string_integer__cle_presente.20 (lca.adb:51)
  ! ==301274==    by 0x10DD67: test_lca__lca_string_integer__cle_presente.20 (lca.adb:54)
  ! ==301274==    by 0x10DD67: test_lca__lca_string_integer__cle_presente.20 (lca.adb:54)
  ! ==301274==    by 0x10DE62: test_lca__lca_string_integer__supprimer___postconditions.24 (lca.ads:38)
  ! ==301274==    by 0x10E051: test_lca__lca_string_integer__supprimer.22 (lca.adb:85)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301274==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10E0FC: test_lca__lca_string_integer__supprimer__P349b.23 (lca.adb:85)
  ! ==301274==    by 0x10DFE3: test_lca__lca_string_integer__supprimer.22 (lca.adb:80)
  ! ==301274==    by 0x10E1AB: test_lca__lca_string_integer__vider.21 (lca.adb:91)
  ! ==301274==    by 0x10F412: test_lca__tester_exemple_sujet.2 (test_lca.adb:105)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274==  Block was alloc'd at
  ! ==301274==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301274==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301274==    by 0x10DD02: test_lca__lca_string_integer__enregistrer__P322b.7 (lca.adb:44)
  ! ==301274==    by 0x10DB2C: test_lca__lca_string_integer__enregistrer.6 (lca.adb:35)
  ! ==301274==    by 0x10F0D0: test_lca__construire_exemple_sujet.3 (test_lca.adb:77)
  ! ==301274==    by 0x10F3FF: test_lca__tester_exemple_sujet.2 (test_lca.adb:104)
  ! ==301274==    by 0x10D31F: _ada_test_lca (test_lca.adb:370)
  ! ==301274==    by 0x10CBDC: main (b~test_lca.adb:288)
  ! ==301274== 
  ! ==301274== 
  ! ==301274== HEAP SUMMARY:
  ! ==301274==     in use at exit: 0 bytes in 0 blocks
  ! ... lignes suivantes supprimées ...



################################################################################
# Exercice 2
################################################################################


================================================================================
## Différences entre lca.ads et th.ads
================================================================================

* Comparaison de lca.ads et th.ads... différents

   |                                                                                                    |  with LCA;
   | -- Définition de structures de données associatives sous forme d'une liste                         <
   | -- chaînée associative (LCA).                                                                      <
   |                                                                                                    >     CAPACITE : Integer;
   |                                                                                                    >     with function Hachage(Cle : in T_Cle) return Integer;
   | package LCA is                                                                                     |  package TH is
   |         -- Initialiser une Sda.  La Sda est vide.                                                  |     package LCA_2 is
   |         procedure Initialiser(Sda: out T_LCA) with                                                 |       new LCA(T_Cle => T_Cle, T_Donnee => T_Donnee);
   |                 Post => Est_Vide (Sda);                                                            |     use LCA_2;
   |                                                                                                    >
   |                                                                                                    >  -- Initialiser une Th.  La Th est vide.
   |                                                                                                    >          procedure Initialiser(Th: out T_TH) with  
   |                                                                                                    >                  Post => Est_Vide (Th);
   |         -- Est-ce qu'une Sda est vide ?                                                            |          -- Est-ce qu'une Th est vide ?
   |         function Est_Vide (Sda : T_LCA) return Boolean;                                            |          function Est_Vide (Th : T_TH) return Boolean;  
   |         -- Obtenir le nombre d'éléments d'une Sda.                                                 |          -- Obtenir le nombre d'Ã©lÃ©ments d'une Th.
   |         function Taille (Sda : in T_LCA) return Integer with                                       |          function Taille (Th : in T_TH) return Integer with  
   |                         and (Taille'Result = 0) = Est_Vide (Sda);                                  |       and (Taille'Result = 0) = Est_Vide (Th);
   |                                                                                                    >
   |                                                                                                    >     -- Obtenir l'indice du tableau avec la clé;
   |                                                                                                    >     function Indice_tableau(Cle : in T_Cle) return Integer;
   |         -- Enregistrer une Donnée associée à une Clé dans une Sda.                                 <
   |         -- Si la clé est déjà présente dans la Sda, sa donnée est changée.                         <
   |         procedure Enregistrer (Sda : in out T_LCA ; Cle : in T_Cle ; Donnee : in T_Donnee) with    <
   |                 Post => Cle_Presente (Sda, Cle) and (La_Donnee (Sda, Cle) = Donnee)   -- donnée in <
   |                                 and (not (Cle_Presente (Sda, Cle)'Old) or Taille (Sda) = Taille (S <
   |                                 and (Cle_Presente (Sda, Cle)'Old or Taille (Sda) = Taille (Sda)'Ol <
   |         -- Supprimer la Donnée associée à une Clé dans une Sda.                                    |          -- Enregistrer une DonnÃ©e associÃ©e Ã  une ClÃ© dans une Th.
   |         -- Exception : Cle_Absente_Exception si Clé n'est pas utilisée dans la Sda                 |   -- Si la clÃ© est dÃ©jÃ  prÃ©sente dans la Th, sa donnÃ©e est changÃ©e.
   |         procedure Supprimer (Sda : in out T_LCA ; Cle : in T_Cle) with                             |          procedure Enregistrer (Th : in out T_TH ; Cle : in T_Cle ; Donnee : in T_Donnee) with  
   |                 Post =>  Taille (Sda) = Taille (Sda)'Old - 1 -- un élément de moins                |                  Post => Cle_Presente (Th, Cle) and (La_Donnee (Th, Cle) = Donnee)   -- donnÃ©e ins
   |                         and not Cle_Presente (Sda, Cle);         -- la clé a été supprimée         |                                  and (not (Cle_Presente (Th, Cle)'Old) or Taille (Th) = Taille (Th)
   |                                                                                                    >                                  and (Cle_Presente (Th, Cle)'Old or Taille (Th) = Taille (Th)'Old +
   |                                                                                                    >          -- Supprimer la DonnÃ©e associÃ©e Ã  une ClÃ© dans une Th.
   |                                                                                                    >          -- Exception : Cle_Absente_Exception si ClÃ© n'est pas utilisÃ©e dans la Th
   |                                                                                                    >          procedure Supprimer (Th : in out T_TH ; Cle : in T_Cle) with  
   |                                                                                                    >                  Post =>  Taille (Th) = Taille (Th)'Old - 1 -- un Ã©lÃ©ment de moins
   |                                                                                                    >                          and not Cle_Presente (Th, Cle);         -- la clÃ© a Ã©tÃ© supprimÃ©e
   |         -- Savoir si une Clé est présente dans une Sda.                                            <
   |         function Cle_Presente (Sda : in T_LCA ; Cle : in T_Cle) return Boolean;                    <
   |                                                                                                    >          -- Savoir si une ClÃ© est prÃ©sente dans une Th.
   |                                                                                                    >          function Cle_Presente (Th : in T_TH ; Cle : in T_Cle) return Boolean;  
   |         -- Obtenir la donnée associée à une Cle dans la Sda.                                       <
   |         -- Exception : Cle_Absente_Exception si Clé n'est pas utilisée dans l'Sda                  <
   |         function La_Donnee (Sda : in T_LCA ; Cle : in T_Cle) return T_Donnee;                      <
   |                                                                                                    >          -- Obtenir la donnÃ©e associÃ©e Ã  une Cle dans la Th.
   |                                                                                                    >          -- Exception : Cle_Absente_Exception si ClÃ© n'est pas utilisÃ©e dans l'Th
   |                                                                                                    >          function La_Donnee (Th : in T_TH ; Cle : in T_Cle) return T_Donnee;  
   |         -- Supprimer tous les éléments d'une Sda.                                                  <
   |         procedure Vider (Sda : in out T_LCA) with                                                  <
   |                 Post => Est_Vide (Sda);                                                            <
   |                                                                                                    >          -- Supprimer tous les Ã©lÃ©ments d'une Th.
   |                                                                                                    >          procedure Vider (Th : in out T_TH) with  
   |                                                                                                    >                  Post => Est_Vide (Th);
   |         -- Appliquer un traitement (Traiter) pour chaque couple d'une Sda.                         |
   |                                                                                                    >          -- Appliquer un traitement (Traiter) pour chaque couple d'une Th.
   |    procedure Pour_Chaque (Sda : in T_LCA);                                                         |     procedure Pour_Chaque (Th : in T_TH);  
   |                                                                                                    <
   | -- AVEC_AFFICHER_DEBUG START DELETE                                                                <
   |         -- Afficher la Sda en révélant sa structure interne.                                       <
   |         -- generic                                                                                 <
   |                 -- with procedure Afficher_Cle (Cle : in T_Cle);                                   <
   |                 -- with procedure Afficher_Donnee (Donnee : in T_Donnee);                          <
   |         -- procedure Afficher_Debug (Sda : in T_LCA);                                              <
   | -- AVEC_AFFICHER_DEBUG STOP DELETE                                                                 <
   |    Type T_Cellule;                                                                                 |     type T_TH is array(1..CAPACITE) of LCA_2.T_LCA;  
   |    Type T_LCA is access T_Cellule;                                                                 <
   |    Type T_Cellule is                                                                               <
   |       record                                                                                       <
   |          cle : T_Cle;                                                                              <
   |          donnee : T_Donnee;                                                                        <
   |          suivant : T_LCA;                                                                          <
   |       end record;                                                                                  <
   | end LCA;                                                                                           |  end TH;


================================================================================
## Différences entre test_lca.ads et test_th.ads
================================================================================

* Comparaison de test_lca.adb et test_th.adb... différents

   | with LCA;                                                                                          |  with TH;
   |                                                                                                    >     function Hachage_longueur (Cle : Unbounded_String) return Integer is
   |                                                                                                    >     begin
   |                                                                                                    >        return Cle'Size;
   |                                                                                                    >     end Hachage_longueur;
   |         package LCA_String_Integer is                                                              |          package TH_String_Integer is
   |                 new LCA (T_Cle => Unbounded_String, T_Donnee => Integer);                          |                  new TH (T_Cle => Unbounded_String, T_Donnee => Integer, CAPACITE=>11, Hachage => H
   |         use LCA_String_Integer;                                                                    |          use TH_String_Integer;
   |         -- Afficher la Sda.                                                                        |          -- Afficher la Th.


================================================================================
## Exécution de th_sujet.adb
================================================================================

* Compilation de th_sujet.adb... ok

  | th_sujet.adb:3:06: warning: no entities of "SDA_Exceptions" are referenced
  | th_sujet.adb:3:33: warning: use clause for package "SDA_Exceptions" has no effect
  | th.adb:2:06: warning: no entities of "SDA_Exceptions" are referenced
  | th.adb:2:30: warning: use clause for package "SDA_Exceptions" has no effect
  | th.adb:3:09: warning: unit "Ada.Unchecked_Deallocation" is not referenced
  | th.ads:14:04: warning: use clause for package "LCA_2" has no effect

* ./th_sujet... ok
* valgrind ./th_sujet... ERREUR

  ! ==301293== Memcheck, a memory error detector
  ! ==301293== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301293== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301293== Command: ./th_sujet
  ! ==301293== 
  ! ==301293== 
  ! ==301293== HEAP SUMMARY:
  ! ==301293==     in use at exit: 640 bytes in 14 blocks
  ! ==301293==   total heap usage: 14 allocs, 0 frees, 640 bytes allocated
  ! ==301293== 
  ! ==301293== 640 (48 direct, 592 indirect) bytes in 1 blocks are definitely lost in loss record 14 of 14
  ! ==301293==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301293==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301293==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301293==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301293==    by 0x10DDF2: th_sujet__th_11__lca_2__enregistrer__P224b.21 (lca.adb:44)
  ! ==301293==    by 0x10DC1C: th_sujet__th_11__lca_2__enregistrer.20 (lca.adb:35)
  ! ==301293==    by 0x10E2F1: th_sujet__th_11__enregistrer.9 (th.adb:56)
  ! ==301293==    by 0x10CD78: _ada_th_sujet (th_sujet.adb:43)
  ! ==301293==    by 0x10CB8C: main (b~th_sujet.adb:290)
  ! ==301293== 
  ! ==301293== LEAK SUMMARY:
  ! ==301293==    definitely lost: 48 bytes in 1 blocks
  ! ==301293==    indirectly lost: 592 bytes in 13 blocks
  ! ==301293==      possibly lost: 0 bytes in 0 blocks
  ! ==301293==    still reachable: 0 bytes in 0 blocks
  ! ==301293==         suppressed: 0 bytes in 0 blocks
  ! ==301293== 
  ! ==301293== For lists of detected and suppressed errors, rerun with: -s
  ! ==301293== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)


================================================================================
## Exécution de test_th.adb
================================================================================

* Compilation de test_th.adb... ok

  | test_th.adb:260:17: warning: variable "Inutile" is assigned but never read
  | test_th.adb:283:35: warning: formal parameter "Cle" is not referenced

* ./test_th... ok
* valgrind ./test_th... ERREUR

  ! ==301307== Memcheck, a memory error detector
  ! ==301307== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301307== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301307== Command: ./test_th
  ! ==301307== 
  ! ==301307== Invalid read of size 8
  ! ==301307==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD5A: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:51)
  ! ==301307==    by 0x10DE7A: test_th__th_string_integer__lca_2__supprimer___postconditions.38 (lca.ads:38)
  ! ==301307==    by 0x10E069: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:85)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301307==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10E114: test_th__th_string_integer__lca_2__supprimer__P390b.37 (lca.adb:85)
  ! ==301307==    by 0x10DFFB: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:80)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Block was alloc'd at
  ! ==301307==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD1A: test_th__th_string_integer__lca_2__enregistrer__P363b.17 (lca.adb:44)
  ! ==301307==    by 0x10DB44: test_th__th_string_integer__lca_2__enregistrer.13 (lca.adb:35)
  ! ==301307==    by 0x10E6C9: test_th__th_string_integer__enregistrer.10 (th.adb:56)
  ! ==301307==    by 0x10FA32: test_th__construire_exemple_sujet.4 (test_th.adb:81)
  ! ==301307==    by 0x10FD77: test_th__tester_exemple_sujet.2 (test_th.adb:108)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307== 
  ! ==301307== Invalid read of size 8
  ! ==301307==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD5A: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:51)
  ! ==301307==    by 0x10DD7F: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:54)
  ! ==301307==    by 0x10DE7A: test_th__th_string_integer__lca_2__supprimer___postconditions.38 (lca.ads:38)
  ! ==301307==    by 0x10E069: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:85)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301307==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10E114: test_th__th_string_integer__lca_2__supprimer__P390b.37 (lca.adb:85)
  ! ==301307==    by 0x10DFFB: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:80)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Block was alloc'd at
  ! ==301307==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD1A: test_th__th_string_integer__lca_2__enregistrer__P363b.17 (lca.adb:44)
  ! ==301307==    by 0x10DB44: test_th__th_string_integer__lca_2__enregistrer.13 (lca.adb:35)
  ! ==301307==    by 0x10E6C9: test_th__th_string_integer__enregistrer.10 (th.adb:56)
  ! ==301307==    by 0x10FA32: test_th__construire_exemple_sujet.4 (test_th.adb:81)
  ! ==301307==    by 0x10FD77: test_th__tester_exemple_sujet.2 (test_th.adb:108)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307== 
  ! ==301307== Invalid read of size 8
  ! ==301307==    at 0x4A1AC64: ada__strings__unbounded__Oeq (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD5A: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:51)
  ! ==301307==    by 0x10DD7F: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:54)
  ! ==301307==    by 0x10DD7F: test_th__th_string_integer__lca_2__cle_presente.14 (lca.adb:54)
  ! ==301307==    by 0x10DE7A: test_th__th_string_integer__lca_2__supprimer___postconditions.38 (lca.ads:38)
  ! ==301307==    by 0x10E069: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:85)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Address 0x4e513b8 is 24 bytes inside a block of size 48 free'd
  ! ==301307==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE2058: __gnat_free (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10E114: test_th__th_string_integer__lca_2__supprimer__P390b.37 (lca.adb:85)
  ! ==301307==    by 0x10DFFB: test_th__th_string_integer__lca_2__supprimer.36 (lca.adb:80)
  ! ==301307==    by 0x10E1C3: test_th__th_string_integer__lca_2__vider.35 (lca.adb:91)
  ! ==301307==    by 0x10E9EE: test_th__th_string_integer__vider.34 (th.adb:87)
  ! ==301307==    by 0x10FD86: test_th__tester_exemple_sujet.2 (test_th.adb:109)
  ! ==301307==    by 0x10D336: _ada_test_th (test_th.adb:374)
  ! ==301307==    by 0x10CBEC: main (b~test_th.adb:290)
  ! ==301307==  Block was alloc'd at
  ! ==301307==    at 0x4843839: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==301307==    by 0x4AE1FEE: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B0F50C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x4B1F176: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==301307==    by 0x10DD1A: test_th__th_string_integer__lca_2__enregistrer__P363b.17 (lca.adb:44)
  ! ==301307==    by 0x10DB44: test_th__th_string_integer__lca_2__enregistrer.13 (lca.adb:35)
  ! ... lignes suivantes supprimées ...



################################################################################
# Exercice 3
################################################################################


================================================================================
## Différences entre evaluer_alea_lca.ads et evaluer_alea_th.ads
================================================================================

* Comparaison de evaluer_alea_lca.adb et evaluer_alea_th.adb... différents

   | with LCA;                                                                                          |  with TH;
   |                                                                                                    |  -- Évaluer la qualité du générateur aléatoire et les TH.
   | -- Évaluer la qualité du générateur aléatoire et les LCA.                                          <
   | package LCA_I is                                                                                   |     function Hachage_identite (x : Integer) return Integer is
   |                 new LCA (T_Cle => Integer, T_Donnee => Integer);                                   |     begin
   |    use LCA_I;                                                                                      |        return x;
   |                                                                                                    >     end Hachage_identite;
   |                                                                                                    >
   |                                                                                                    >     package TH_11 is
   |                                                                                                    >       new TH (T_Cle => Integer, T_Donnee => Integer, CAPACITE=>1000, Hachage => Hachage_identite);
   |                                                                                                    >     use TH_11;
   |                                                                                                    >
   |                                                                                                    >     T_ex : T_TH;  
   |    Sda_ex : T_LCA;                                                                                 <
   |          if Cle_Presente(Sda_ex,nombre_alea) then                                                  |           if Cle_Presente(T_ex,nombre_alea) then
   |             Enregistrer(Sda_ex, nombre_alea, La_Donnee(Sda_ex, nombre_alea)+1);                    |              Enregistrer(T_ex, nombre_alea, La_Donnee(T_ex, nombre_alea)+1);
   |             Enregistrer(Sda_ex, nombre_alea, 1);                                                   |              Enregistrer(T_ex, nombre_alea, 1);
   |       Min:=La_Donnee(Sda_ex,1);                                                                    |        Min:=La_Donnee(T_ex,1);
   |       Max:=La_Donnee(Sda_ex,1);                                                                    |        Max:=La_Donnee(T_ex,1);
   |             if Min>La_Donnee(Sda_ex,i) then                                                        |              if Min>La_Donnee(T_ex,i) then
   |                Min:=La_Donnee(Sda_ex,i);                                                           |                 Min:=La_Donnee(T_ex,i);
   |             elsif Max<La_Donnee(Sda_ex,i) then                                                     |              elsif Max<La_Donnee(T_ex,i) then
   |                Max:=La_Donnee(Sda_ex,i);                                                           |                 Max:=La_Donnee(T_ex,i);


================================================================================
## Exécutions de evaluer_alea_*
================================================================================

* Running gnatclean... ok
* Compilation de evaluer_alea_lca.adb... ok
* Compilation de evaluer_alea_th.adb... ok

  | th.adb:2:06: warning: no entities of "SDA_Exceptions" are referenced
  | th.adb:2:30: warning: use clause for package "SDA_Exceptions" has no effect
  | th.adb:3:09: warning: unit "Ada.Unchecked_Deallocation" is not referenced
  | th.ads:14:04: warning: use clause for package "LCA_2" has no effect


================================================================================
## Tests nominaux
================================================================================


--------------------------------------------------------------------------------
### Cas : Classique : dé à 6 faces, 100 tirages
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 6 100... ok

  | Borne  : 6
  | Taille : 100
  | Min : 0
  | Max : 19

* valgrind ./evaluer_alea_lca 6 100... ERREUR

  ! ==301348== Memcheck, a memory error detector
  ! ==301348== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301348== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301348== Command: ./evaluer_alea_lca 6 100
  ! ==301348== 
  ! ==301348== 
  ! ==301348== HEAP SUMMARY:
  ! ==301348==     in use at exit: 96 bytes in 6 blocks
  ! ==301348==   total heap usage: 111 allocs, 105 frees, 72,816 bytes allocated
  ! ==301348== 
  ! ==301348== 96 (16 direct, 80 indirect) bytes in 1 blocks are definitely lost in loss record 6 of 6
  ! ... lignes suivantes supprimées ...

* ./evaluer_alea_th 6 100... ok

  | Borne  : 6
  | Taille : 100
  | Min : 0
  | Max : 21

* valgrind ./evaluer_alea_th 6 100... ERREUR

  ! ==301350== Memcheck, a memory error detector
  ! ==301350== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==301350== Using Valgrind-3.17.0 and LibVEX; rerun with -h for copyright info
  ! ==301350== Command: ./evaluer_alea_th 6 100
  ! ==301350== 
  ! ==301350== 
  ! ==301350== HEAP SUMMARY:
  ! ==301350==     in use at exit: 96 bytes in 6 blocks
  ! ==301350==   total heap usage: 111 allocs, 105 frees, 72,816 bytes allocated
  ! ==301350== 
  ! ==301350== 96 bytes in 6 blocks are definitely lost in loss record 1 of 1
  ! ... lignes suivantes supprimées ...


--------------------------------------------------------------------------------
### Cas : Beaucoup de doubles
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 5 100... ok

  | Borne  : 5
  | Taille : 100
  | Min : 0
  | Max : 25

* ./evaluer_alea_th 5 100... ok

  | Borne  : 5
  | Taille : 100
  | Min : 0
  | Max : 23


--------------------------------------------------------------------------------
### Cas : Peu de doubles
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 100000 10... ERREUR

  | Borne  : 100000
  | Taille : 10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at evaluer_alea_lca.adb:11

* ./evaluer_alea_th 100000 10... ERREUR

  | Borne  : 100000
  | Taille : 10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at th.ads:12 instantiated at evaluer_alea_th.adb:15


--------------------------------------------------------------------------------
### Cas : Limite pour Borne et Taille
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 2 2... ok

  | Borne  : 2
  | Taille : 2
  | Min : 0
  | Max : 2

* ./evaluer_alea_th 2 2... ok

  | Borne  : 2
  | Taille : 2
  | Min : 1
  | Max : 1


================================================================================
## Tests de robustesse
================================================================================


--------------------------------------------------------------------------------
### Cas : Deux entiers attendus
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ ZYT... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "XYZ"

* ./evaluer_alea_th XYZ ZYT... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "XYZ"


--------------------------------------------------------------------------------
### Cas : Taille doit être un entier
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 10 ZYT... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "ZYT"

* ./evaluer_alea_th 10 ZYT... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "ZYT"


--------------------------------------------------------------------------------
### Cas : Borne doit être un entier
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ 30... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "XYZ"

* ./evaluer_alea_th XYZ 30... ERREUR

  ! raised CONSTRAINT_ERROR : bad input for 'Value: "XYZ"


--------------------------------------------------------------------------------
### Cas : Borne et Taille doivent être strictement positifs
--------------------------------------------------------------------------------

* ./evaluer_alea_lca -4 -10... ERREUR

  | Borne  : -4
  | Taille : -10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at evaluer_alea_lca.adb:11

* ./evaluer_alea_th -4 -10... ERREUR

  | Borne  : -4
  | Taille : -10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at th.ads:12 instantiated at evaluer_alea_th.adb:15


--------------------------------------------------------------------------------
### Cas : Taille doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 4 -10... ERREUR

  | Borne  : 4
  | Taille : -10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at evaluer_alea_lca.adb:11

* ./evaluer_alea_th 4 -10... ERREUR

  | Borne  : 4
  | Taille : -10


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at th.ads:12 instantiated at evaluer_alea_th.adb:15


--------------------------------------------------------------------------------
### Cas : Borne doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca -4 10... ERREUR

  | Borne  : -4
  | Taille : 10


  ! raised CONSTRAINT_ERROR : a-nudira.adb:54 range check failed

* ./evaluer_alea_th -4 10... ERREUR

  | Borne  : -4
  | Taille : 10


  ! raised CONSTRAINT_ERROR : a-nudira.adb:54 range check failed


--------------------------------------------------------------------------------
### Cas : Il manque la taille (ou la borne)
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 5... ok

  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 5... ok

  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne doit être un entier ou il manque la taille
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ... ok

  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th XYZ... ok

  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Taille doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 4 0... ERREUR

  | Borne  : 4
  | Taille : 0


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at evaluer_alea_lca.adb:11

* ./evaluer_alea_th 4 0... ERREUR

  | Borne  : 4
  | Taille : 0


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at th.ads:12 instantiated at evaluer_alea_th.adb:15


--------------------------------------------------------------------------------
### Cas : Borne doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 0 100... ERREUR

  | Borne  : 0
  | Taille : 100


  ! raised CONSTRAINT_ERROR : a-nudira.adb:54 range check failed

* ./evaluer_alea_th 0 100... ERREUR

  | Borne  : 0
  | Taille : 100


  ! raised CONSTRAINT_ERROR : a-nudira.adb:54 range check failed


--------------------------------------------------------------------------------
### Cas : Borne = 1 : Ne respecte pas la précondition de Calculer_Statistiques
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 1 100... ok

  | Borne  : 1
  | Taille : 100
  | Min : 0
  | Max : 100

* ./evaluer_alea_th 1 100... ok

  | Borne  : 1
  | Taille : 100
  | Min : 0
  | Max : 100


--------------------------------------------------------------------------------
### Cas : Taille = 1 : Ne respecte pas la précondition de Calculer_Statistiques
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 10 1... ERREUR

  | Borne  : 10
  | Taille : 1


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at evaluer_alea_lca.adb:11

* ./evaluer_alea_th 10 1... ERREUR

  | Borne  : 10
  | Taille : 1


  ! raised SDA_EXCEPTIONS.CLE_ABSENTE_EXCEPTION : lca.adb:62 instantiated at th.ads:12 instantiated at evaluer_alea_th.adb:15



################################################################################
# Nettoyer
################################################################################

* Running gnatclean... ok

<!-- vi: set ts=8: -->
